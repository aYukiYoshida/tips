[env]
_.path = [
    "{{config_root}}/.venv/bin",
    "{{config_root}}/node_modules/.bin",
]

[tools]
python = "3.10"
node = "22.18.0"
poetry = "1.8.2"

[hooks]
postinstall = ["mise run setup"]

[tasks."setup:nodejs"]
run = "npm install"
hide = true

[tasks."setup:python"]
run = "poetry install"
hide = true

[tasks."setup:pre-commit"]
run = "pre-commit install"
depends = ["setup:python"]
hide = true

[tasks.setup]
depends = ["setup:*"]
hide = true

[tasks."create:zenn"]
run = "npm run create:zenn"

[tasks."create:qiita"]
run = "npm run create:qiita"

[tasks."build:docs"]
description = "Build documentation with MkDocs"
run = "npm run build:docs"

[tasks."build:slides"]
description = "Build slides with Marp"
run = "npm run build:slides"

[tasks."build:site"]
description = "Build entire site (docs and slides)"
run = "npm run build:site"

[tasks."preview:docs"]
run = "npm run preview:docs"

[tasks."preview:slides"]
run = "npm run preview:slides"

[tasks."preview:zenn"]
run = "npm run preview:zenn"

[tasks."preview:qiita"]
run = "npm run preview:qiita"

[tasks.z2q]
run = "poe z2q"
